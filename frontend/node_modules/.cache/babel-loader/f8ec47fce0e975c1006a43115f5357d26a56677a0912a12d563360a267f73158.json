{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StateSelect=_ref=>{let{value,onChange,options=[],disabled=false,className=''}=_ref;const[open,setOpen]=useState(false);const[highlight,setHighlight]=useState(-1);const ref=useRef(null);useEffect(()=>{const onDocClick=e=>{if(ref.current&&!ref.current.contains(e.target))setOpen(false);};document.addEventListener('click',onDocClick);return()=>document.removeEventListener('click',onDocClick);},[]);useEffect(()=>{if(!open)setHighlight(-1);},[open]);const selected=options.find(o=>o.value===value)||options[0];const toggle=()=>{if(disabled)return;setOpen(!open);};const handleKey=e=>{if(disabled)return;if(e.key==='Enter'||e.key===' '){e.preventDefault();if(!open)setOpen(true);else if(highlight>=0)onChange(options[highlight].value);}else if(e.key==='ArrowDown'){e.preventDefault();setOpen(true);setHighlight(h=>Math.min(h+1,options.length-1));}else if(e.key==='ArrowUp'){e.preventDefault();setOpen(true);setHighlight(h=>Math.max(h-1,0));}else if(e.key==='Escape'){setOpen(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"custom-select \".concat(className),ref:ref,children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"custom-select__button state-\".concat(value),onClick:toggle,onKeyDown:handleKey,\"aria-haspopup\":\"listbox\",\"aria-expanded\":open,disabled:disabled,children:[/*#__PURE__*/_jsx(\"span\",{className:\"custom-select__label\",children:selected===null||selected===void 0?void 0:selected.label}),/*#__PURE__*/_jsx(\"span\",{className:\"custom-select__arrow\",children:\"\\u25BE\"})]}),open&&/*#__PURE__*/_jsx(\"ul\",{className:\"custom-select__list\",role:\"listbox\",tabIndex:-1,children:options.map((opt,idx)=>/*#__PURE__*/_jsx(\"li\",{role:\"option\",\"aria-selected\":opt.value===value,className:\"custom-select__item state-\".concat(opt.value,\" \").concat(highlight===idx?'highlight':''),onMouseEnter:()=>setHighlight(idx),onClick:()=>{onChange(opt.value);setOpen(false);},children:opt.label},opt.value))})]});};export default StateSelect;","map":{"version":3,"names":["React","useState","useRef","useEffect","jsx","_jsx","jsxs","_jsxs","StateSelect","_ref","value","onChange","options","disabled","className","open","setOpen","highlight","setHighlight","ref","onDocClick","e","current","contains","target","document","addEventListener","removeEventListener","selected","find","o","toggle","handleKey","key","preventDefault","h","Math","min","length","max","concat","children","type","onClick","onKeyDown","label","role","tabIndex","map","opt","idx","onMouseEnter"],"sources":["C:/Users/felip/Downloads/erp/erp/frontend/src/components/StateSelect.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\n\r\nconst StateSelect = ({ value, onChange, options = [], disabled = false, className = '' }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [highlight, setHighlight] = useState(-1);\r\n  const ref = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const onDocClick = (e) => {\r\n      if (ref.current && !ref.current.contains(e.target)) setOpen(false);\r\n    };\r\n    document.addEventListener('click', onDocClick);\r\n    return () => document.removeEventListener('click', onDocClick);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!open) setHighlight(-1);\r\n  }, [open]);\r\n\r\n  const selected = options.find(o => o.value === value) || options[0];\r\n\r\n  const toggle = () => {\r\n    if (disabled) return;\r\n    setOpen(!open);\r\n  };\r\n\r\n  const handleKey = (e) => {\r\n    if (disabled) return;\r\n    if (e.key === 'Enter' || e.key === ' ') {\r\n      e.preventDefault();\r\n      if (!open) setOpen(true);\r\n      else if (highlight >= 0) onChange(options[highlight].value);\r\n    } else if (e.key === 'ArrowDown') {\r\n      e.preventDefault();\r\n      setOpen(true);\r\n      setHighlight(h => Math.min(h + 1, options.length - 1));\r\n    } else if (e.key === 'ArrowUp') {\r\n      e.preventDefault();\r\n      setOpen(true);\r\n      setHighlight(h => Math.max(h - 1, 0));\r\n    } else if (e.key === 'Escape') {\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`custom-select ${className}`} ref={ref}>\r\n      <button\r\n        type=\"button\"\r\n        className={`custom-select__button state-${value}`}\r\n        onClick={toggle}\r\n        onKeyDown={handleKey}\r\n        aria-haspopup=\"listbox\"\r\n        aria-expanded={open}\r\n        disabled={disabled}\r\n      >\r\n        <span className=\"custom-select__label\">{selected?.label}</span>\r\n        <span className=\"custom-select__arrow\">â–¾</span>\r\n      </button>\r\n\r\n      {open && (\r\n        <ul className=\"custom-select__list\" role=\"listbox\" tabIndex={-1}>\r\n          {options.map((opt, idx) => (\r\n            <li\r\n              key={opt.value}\r\n              role=\"option\"\r\n              aria-selected={opt.value === value}\r\n              className={`custom-select__item state-${opt.value} ${highlight === idx ? 'highlight' : ''}`}\r\n              onMouseEnter={() => setHighlight(idx)}\r\n              onClick={() => { onChange(opt.value); setOpen(false); }}\r\n            >\r\n              {opt.label}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StateSelect;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}