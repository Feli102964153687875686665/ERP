{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\felip\\\\Downloads\\\\erp\\\\erp\\\\frontend\\\\src\\\\components\\\\SearchableSelect.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport '../css/searchable-select.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchableSelect = ({\n  name,\n  value,\n  onChange,\n  options,\n  placeholder = 'Buscar...',\n  required = false,\n  error = false,\n  disabled = false,\n  ariaLabel = ''\n}) => {\n  _s();\n  var _options$find;\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const containerRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Filtrar opciones basado en búsqueda\n  const filteredOptions = options.filter(opt => opt.label.toLowerCase().includes(searchTerm.toLowerCase()));\n\n  // Obtener el label del valor seleccionado\n  const selectedLabel = ((_options$find = options.find(opt => opt.value === value)) === null || _options$find === void 0 ? void 0 : _options$find.label) || '';\n\n  // Cerrar dropdown cuando se hace click fuera\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (containerRef.current && !containerRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [isOpen]);\n\n  // Limpiar búsqueda cuando se cierra\n  useEffect(() => {\n    if (!isOpen) {\n      setSearchTerm('');\n    } else {\n      // Focus en el input cuando se abre\n      setTimeout(() => {\n        var _inputRef$current;\n        return (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n      }, 50);\n    }\n  }, [isOpen]);\n  const handleSelect = optionValue => {\n    onChange({\n      target: {\n        name,\n        value: optionValue\n      }\n    });\n    setIsOpen(false);\n    setSearchTerm('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `searchable-select-container ${error ? 'error' : ''} ${disabled ? 'disabled' : ''}`,\n    ref: containerRef,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"searchable-select-trigger\",\n      onClick: () => !disabled && setIsOpen(!isOpen),\n      \"aria-haspopup\": \"listbox\",\n      \"aria-expanded\": isOpen,\n      \"aria-label\": ariaLabel || `Seleccionar ${name}`,\n      disabled: disabled,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"selected-label\",\n        children: selectedLabel || placeholder\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        className: `chevron ${isOpen ? 'open' : ''}`,\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"16\",\n        height: \"16\",\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        strokeWidth: \"2\",\n        children: /*#__PURE__*/_jsxDEV(\"polyline\", {\n          points: \"6 9 12 15 18 9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchable-select-dropdown\",\n      role: \"listbox\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        type: \"text\",\n        className: \"searchable-select-input\",\n        placeholder: placeholder,\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value),\n        \"aria-label\": `Buscar ${name}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searchable-select-options\",\n        children: filteredOptions.length > 0 ? filteredOptions.map(opt => /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: `searchable-select-option ${value === opt.value ? 'selected' : ''}`,\n          onClick: () => handleSelect(opt.value),\n          role: \"option\",\n          \"aria-selected\": value === opt.value,\n          children: opt.label\n        }, opt.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchable-select-empty\",\n          children: \"No hay resultados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchableSelect, \"BbF5971wDplnxUWU1cebH1Evelc=\");\n_c = SearchableSelect;\nexport default SearchableSelect;\nvar _c;\n$RefreshReg$(_c, \"SearchableSelect\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","SearchableSelect","name","value","onChange","options","placeholder","required","error","disabled","ariaLabel","_s","_options$find","isOpen","setIsOpen","searchTerm","setSearchTerm","containerRef","inputRef","filteredOptions","filter","opt","label","toLowerCase","includes","selectedLabel","find","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","setTimeout","_inputRef$current","focus","handleSelect","optionValue","className","ref","children","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","xmlns","width","height","viewBox","fill","stroke","strokeWidth","points","role","e","length","map","_c","$RefreshReg$"],"sources":["C:/Users/felip/Downloads/erp/erp/frontend/src/components/SearchableSelect.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport '../css/searchable-select.css';\r\n\r\nconst SearchableSelect = ({ \r\n  name, \r\n  value, \r\n  onChange, \r\n  options, \r\n  placeholder = 'Buscar...', \r\n  required = false,\r\n  error = false,\r\n  disabled = false,\r\n  ariaLabel = ''\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const containerRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  // Filtrar opciones basado en búsqueda\r\n  const filteredOptions = options.filter(opt => \r\n    opt.label.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  // Obtener el label del valor seleccionado\r\n  const selectedLabel = options.find(opt => opt.value === value)?.label || '';\r\n\r\n  // Cerrar dropdown cuando se hace click fuera\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (containerRef.current && !containerRef.current.contains(event.target)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    if (isOpen) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n      return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Limpiar búsqueda cuando se cierra\r\n  useEffect(() => {\r\n    if (!isOpen) {\r\n      setSearchTerm('');\r\n    } else {\r\n      // Focus en el input cuando se abre\r\n      setTimeout(() => inputRef.current?.focus(), 50);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const handleSelect = (optionValue) => {\r\n    onChange({\r\n      target: {\r\n        name,\r\n        value: optionValue\r\n      }\r\n    });\r\n    setIsOpen(false);\r\n    setSearchTerm('');\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`searchable-select-container ${error ? 'error' : ''} ${disabled ? 'disabled' : ''}`}\r\n      ref={containerRef}\r\n    >\r\n      <button\r\n        type=\"button\"\r\n        className=\"searchable-select-trigger\"\r\n        onClick={() => !disabled && setIsOpen(!isOpen)}\r\n        aria-haspopup=\"listbox\"\r\n        aria-expanded={isOpen}\r\n        aria-label={ariaLabel || `Seleccionar ${name}`}\r\n        disabled={disabled}\r\n      >\r\n        <span className=\"selected-label\">\r\n          {selectedLabel || placeholder}\r\n        </span>\r\n        <svg \r\n          className={`chevron ${isOpen ? 'open' : ''}`}\r\n          xmlns=\"http://www.w3.org/2000/svg\" \r\n          width=\"16\" \r\n          height=\"16\" \r\n          viewBox=\"0 0 24 24\" \r\n          fill=\"none\" \r\n          stroke=\"currentColor\" \r\n          strokeWidth=\"2\"\r\n        >\r\n          <polyline points=\"6 9 12 15 18 9\"></polyline>\r\n        </svg>\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div className=\"searchable-select-dropdown\" role=\"listbox\">\r\n          <input\r\n            ref={inputRef}\r\n            type=\"text\"\r\n            className=\"searchable-select-input\"\r\n            placeholder={placeholder}\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            aria-label={`Buscar ${name}`}\r\n          />\r\n          \r\n          <div className=\"searchable-select-options\">\r\n            {filteredOptions.length > 0 ? (\r\n              filteredOptions.map((opt) => (\r\n                <button\r\n                  key={opt.value}\r\n                  type=\"button\"\r\n                  className={`searchable-select-option ${value === opt.value ? 'selected' : ''}`}\r\n                  onClick={() => handleSelect(opt.value)}\r\n                  role=\"option\"\r\n                  aria-selected={value === opt.value}\r\n                >\r\n                  {opt.label}\r\n                </button>\r\n              ))\r\n            ) : (\r\n              <div className=\"searchable-select-empty\">No hay resultados</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchableSelect;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}